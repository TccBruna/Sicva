<ui:composition template="/template/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"                
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"                
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="titulo">Cadastrar Pacientes</ui:define>

    <ui:define name="menu">
       <ui:include src="menu_atendente.xhtml"/>
    </ui:define>
    
    <ui:define name="corpo">
        <div class="container">
            <div class="row">                
                <div class="page-header"> <h1>Pesquisar Pacientes  <small>descrição</small> </h1></div> 
                <p:messages id="messages"  autoUpdate="true" closable="true" /> 

                <p:ajaxStatus onstart="$('#myModal').modal('show')" onsuccess="$('#myModal').modal('hide')" />
                <div id="myModal" class="modal fade" style="padding-top: 100px;" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
                    <div class="modal-dialog modal-sm" role="document">
                        <div class="modal-content">
                            <div class="text-center">
                                <div><img src="../resources/imgs/search.gif" class="img-responsive"/></div>
                                <h4>Pesquisando....</h4> 
                            </div>   
                        </div>
                    </div>
                </div>               
                <h:form  class="form-horizontal" pt:role="form"> 
                    <div class="form-group">                            
                        <h:outputLabel for="inptRegistro" class="control-label col-sm-3" value="N° do Registro Geral" />                            
                        <div class="col-sm-5">                            
                            <h:inputText value="#{pacienteController.pacienteDigitado.pacientesNumeroRegistroNascimento}" class="form-control" id="inptRegistro"
                                         pt:placeholder="Digite o numero do registro"                                    
                                         required="true"  converterMessage="Por favor inserir somente numeros"
                                         requiredMessage="Digite o numero do registro de nascimento.">                                   
                            </h:inputText>                            
                        </div>
                        <div class="col-sm-2">
                            <p:commandButton update="formCadPaciente" styleClass="btn btn-default " value="Pesquisar"   actionListener="#{pacienteController.consultarPacientes}" /> 
                        </div>
                    </div> 
                </h:form>

                <h:form id="formCadPaciente" class="form-horizontal" pt:role="form">                    
                    <div class="col-md-6">
                        
                            <div class="form-group">
                                <h:outputLabel class="control-label col-sm-3" value="N° de Registro"/>
                                <div class="col-sm-6">
                                    <h:inputText class="form-control"  readonly="true" required="true" 
                                                 value="#{pacienteController.pacienteDigitado.pacientesNumeroRegistroNascimento}"/>
                                                 
                                </div>
                            </div>
                            <div class="form-group">
                                <h:outputLabel class="control-label col-sm-3" value="CPF"/>
                                <div class="col-sm-6">
                                    <h:inputText class="form-control"  required="true"
                                                 value="#{pacienteController.paciente.pacientesCpf}"
                                                 readonly="#{pacienteController.disableCampos}"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <h:outputLabel class="control-label col-sm-3" value="Nome"/>
                                <div class="col-sm-9">
                                    <h:inputText class="form-control"  required="true" 
                                                 value="#{pacienteController.paciente.pacientesNome}" 
                                                 readonly="#{pacienteController.disableCampos}"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <h:outputLabel class="control-label col-sm-3" value="Data de Nascimento"/>
                                <div class="col-sm-6">
                                    <h:inputText class="form-control"  required="true" 
                                                 value="#{pacienteController.paciente.pacientesDataNascimento}" 
                                                 readonly="#{pacienteController.disableCampos}"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <h:outputLabel class="control-label col-sm-3" value="Nome do Responsavel"/>
                                <div class="col-sm-6">
                                    <h:inputText class="form-control"  required="true" 
                                                 value="#{pacienteController.paciente.pacientesNomeResponsavel}" 
                                                 readonly="#{pacienteController.disableCampos}"/>
                                </div>
                            </div>                                          

                        
                    </div> 
                    <div class="col-sm-6">  
                        
                            <div class="form-group">
                                <h:outputLabel class="control-label col-sm-3" value="Telefone Fixo"/>
                                <div class="col-sm-6">
                                    <h:inputText class="form-control"  required="true" 
                                                 value="#{pacienteController.paciente.pacientesFone1}" 
                                                 readonly="#{pacienteController.disableCampos}"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <h:outputLabel class="control-label col-sm-3" value="Celular"/>
                                <div class="col-sm-6">
                                    <h:inputText class="form-control"  required="true" 
                                                 value="#{pacienteController.paciente.pacientesFone2}"
                                                 readonly="#{pacienteController.disableCampos}"/>
                                </div>
                            </div>   
                            <div class="form-group">
                                <h:outputLabel class="control-label col-sm-3" value="Rua"/>
                                <div class="col-sm-9">
                                    <h:inputText class="form-control" required="true" 
                                                 value="#{pacienteController.endereco.enderecoRua}" 
                                                 readonly="#{pacienteController.disableCampos}"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <h:outputLabel class="control-label col-sm-3" value="Cep"/>
                                <div class="col-sm-4">
                                    <h:inputText class="form-control"  required="true" 
                                                 value="#{pacienteController.endereco.enderecoCep}"  
                                                 readonly="#{pacienteController.disableCampos}"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <h:outputLabel class="control-label col-sm-3" value="Numero"/>
                                <div class="col-sm-6">
                                    <h:inputText class="form-control"  required="true" 
                                                 value="#{pacienteController.endereco.enderecoNumero}" 
                                                 readonly="#{pacienteController.disableCampos}"/>
                                </div>
                            </div>                            
                        
                    </div>
                    <div class="col-sm-12">
                        <div class="form-group ">
                            <div class="col-sm-3  ">
                                <h:commandButton styleClass="btn btn-default btn-block" 
                                                 actionListener="#{pacienteController.HabilitarCampos}" 
                                                 disabled="#{pacienteController.habilitarAlterar}" value="Habilitar Alteração"
                                                 type="button">
                                    <f:ajax event="click" render="@form"/>
                                </h:commandButton>
                            </div> 

                            <div class="col-sm-3  col-sm-offset-3">
                                <h:commandButton class="btn btn-default btn-block" actionListener="#{pacienteController.Alterar}" disabled="#{pacienteController.disableAlterar}" value="Alterar">

                                </h:commandButton>
                            </div> 
                            <div class="col-sm-3">
                                <h:commandButton id="btnSalvar"  actionListener="#{pacienteController.Salvar}" disabled="#{pacienteController.disableSalvar}"  class="btn btn-default btn-block" value="Salvar">

                                </h:commandButton>
                            </div>

                        </div>        
                    </div>
                </h:form>
            </div>
        </div>

    </ui:define>

</ui:composition>