-- MySQL Administrator dump 1.4
--
-- ------------------------------------------------------
-- Server version	5.0.41-community-nt


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;


--
-- Create schema sicva
--

CREATE DATABASE IF NOT EXISTS sicva;
USE sicva;

--
-- Definition of table `carteiras_vacinas`
--

DROP TABLE IF EXISTS `carteiras_vacinas`;
CREATE TABLE `carteiras_vacinas` (
  `CARTEIRAS_ID` int(4) NOT NULL auto_increment,
  `CARTEIRAS_STATUS` varchar(11) default NULL,
  `CARTEIRAS_FAIXA_ETARIA` varchar(10) default NULL,
  `CARTEIRAS_PERIODO` varchar(14) default NULL,
  `CARTEIRAS_PROXIMA_DATA` date default NULL,
  `CARTEIRAS_VACINAS_CODIGO` int(4) default NULL,
  `CARTEIRAS_PACIENTES_NUMERO_REGISTRO_NASCIMENTO` int(60) default NULL,
  PRIMARY KEY  (`CARTEIRAS_ID`),
  KEY `FK_VACINAS` (`CARTEIRAS_VACINAS_CODIGO`),
  KEY `FK_PACIENTES` (`CARTEIRAS_PACIENTES_NUMERO_REGISTRO_NASCIMENTO`),
  CONSTRAINT `FK_VACINAS` FOREIGN KEY (`CARTEIRAS_VACINAS_CODIGO`) REFERENCES `vacinas` (`VACINAS_CODIGO`),
  CONSTRAINT `FK_PACIENTES` FOREIGN KEY (`CARTEIRAS_PACIENTES_NUMERO_REGISTRO_NASCIMENTO`) REFERENCES `pacientes` (`PACIENTES_NUMERO_REGISTRO_NASCIMENTO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `carteiras_vacinas`
--

/*!40000 ALTER TABLE `carteiras_vacinas` DISABLE KEYS */;
/*!40000 ALTER TABLE `carteiras_vacinas` ENABLE KEYS */;


--
-- Definition of table `enderecos`
--

DROP TABLE IF EXISTS `enderecos`;
CREATE TABLE `enderecos` (
  `ENDERECOS_ID` int(4) NOT NULL auto_increment,
  `ENDERECO_RUA` varchar(30) default NULL,
  `ENDERECO_CEP` int(10) default NULL,
  `ENDERECO_NUMERO` varchar(5) default NULL,
  PRIMARY KEY  (`ENDERECOS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `enderecos`
--

/*!40000 ALTER TABLE `enderecos` DISABLE KEYS */;
/*!40000 ALTER TABLE `enderecos` ENABLE KEYS */;


--
-- Definition of table `funcao`
--

DROP TABLE IF EXISTS `funcao`;
CREATE TABLE `funcao` (
  `FUNCAO_DESCRICAO` varchar(10) NOT NULL,
  PRIMARY KEY  (`FUNCAO_DESCRICAO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `funcao`
--

/*!40000 ALTER TABLE `funcao` DISABLE KEYS */;
INSERT INTO `funcao` (`FUNCAO_DESCRICAO`) VALUES 
 ('ROLE_ADMIN'),
 ('ROLE_USER');
/*!40000 ALTER TABLE `funcao` ENABLE KEYS */;


--
-- Definition of table `itens_vacinas`
--

DROP TABLE IF EXISTS `itens_vacinas`;
CREATE TABLE `itens_vacinas` (
  `ITENS_VACINAS_CODIGO` int(4) NOT NULL auto_increment,
  `ITENS_VACINAS_VACINAS_CODIGO` int(4) default NULL,
  `ITENS_VACINAS_UBS_ID` int(4) default NULL,
  PRIMARY KEY  (`ITENS_VACINAS_CODIGO`),
  KEY `FK_ITENS_VACINAS_VACINAS_CODIGO` (`ITENS_VACINAS_VACINAS_CODIGO`),
  KEY `FK_ITENS_VACINAS_UBS_ID` (`ITENS_VACINAS_UBS_ID`),
  CONSTRAINT `FK_ITENS_VACINAS_VACINAS_CODIGO` FOREIGN KEY (`ITENS_VACINAS_VACINAS_CODIGO`) REFERENCES `itens_vacinas` (`ITENS_VACINAS_CODIGO`),
  CONSTRAINT `FK_ITENS_VACINAS_UBS_ID` FOREIGN KEY (`ITENS_VACINAS_UBS_ID`) REFERENCES `ubs` (`UBS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `itens_vacinas`
--

/*!40000 ALTER TABLE `itens_vacinas` DISABLE KEYS */;
/*!40000 ALTER TABLE `itens_vacinas` ENABLE KEYS */;


--
-- Definition of table `pacientes`
--

DROP TABLE IF EXISTS `pacientes`;
CREATE TABLE `pacientes` (
  `PACIENTES_NUMERO_REGISTRO_NASCIMENTO` int(60) NOT NULL auto_increment,
  `PACIENTES_CPF` varchar(14) NOT NULL,
  `PACIENTES_NOME` varchar(50) default NULL,
  `PACIENTES_DATA_NASCIMENTO` varchar(10) default NULL,
  `PACIENTES_NOME_RESPONSAVEL` varchar(60) default NULL,
  `PACIENTES_FONE1` varchar(11) default NULL,
  `PACIENTES_FONE2` varchar(11) default NULL,
  `PACIENTES_ENDERECOS_ID` int(4) default NULL,
  `PACIENTES_USUARIO_CPF` varchar(14) default NULL,
  PRIMARY KEY  (`PACIENTES_NUMERO_REGISTRO_NASCIMENTO`),
  KEY `FK_PACIENTES_ENDERECOS_ID` (`PACIENTES_ENDERECOS_ID`),
  KEY `FK_PACIENTES_USUARIO_CPF` (`PACIENTES_USUARIO_CPF`),
  CONSTRAINT `FK_PACIENTES_ENDERECOS_ID` FOREIGN KEY (`PACIENTES_ENDERECOS_ID`) REFERENCES `enderecos` (`ENDERECOS_ID`),
  CONSTRAINT `FK_PACIENTES_USUARIO_CPF` FOREIGN KEY (`PACIENTES_USUARIO_CPF`) REFERENCES `usuarios` (`USUARIOS_CPF`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `pacientes`
--

/*!40000 ALTER TABLE `pacientes` DISABLE KEYS */;
/*!40000 ALTER TABLE `pacientes` ENABLE KEYS */;


--
-- Definition of table `registros_vacinas`
--

DROP TABLE IF EXISTS `registros_vacinas`;
CREATE TABLE `registros_vacinas` (
  `REGISTROS_ID` int(4) NOT NULL auto_increment,
  `REGISTROS_LOTE_VACINAS` varchar(8) default NULL,
  `REGISTROS_DATA_APLICACAO_VACINA` date default NULL,
  `REGISTROS_USUARIOS_CPF` varchar(14) default NULL,
  `REGISTROS_PACIENTES_NUMERO_REGISTRO_NASCIMENTO` int(60) default NULL,
  `REGISTROS_CARTEIRAS_ID` int(4) default NULL,
  `REGISTROS_ITENS_VACINAS_CODIGO` int(4) default NULL,
  `REGISTROS_UBS_ID` int(4) default NULL,
  PRIMARY KEY  (`REGISTROS_ID`),
  KEY `FK_USUARIOS_CPF` (`REGISTROS_USUARIOS_CPF`),
  KEY `FK_PACIENTES_NUMERO_REGISTRO_NASCIMENTO` (`REGISTROS_PACIENTES_NUMERO_REGISTRO_NASCIMENTO`),
  KEY `FK_CARTEIRAS_ID` (`REGISTROS_CARTEIRAS_ID`),
  KEY `FK_ITENS_VACINAS_CODIGO` (`REGISTROS_ITENS_VACINAS_CODIGO`),
  KEY `FK_UBS_ID` (`REGISTROS_UBS_ID`),
  CONSTRAINT `FK_USUARIOS_CPF` FOREIGN KEY (`REGISTROS_USUARIOS_CPF`) REFERENCES `usuarios` (`USUARIOS_CPF`),
  CONSTRAINT `FK_PACIENTES_NUMERO_REGISTRO_NASCIMENTO` FOREIGN KEY (`REGISTROS_PACIENTES_NUMERO_REGISTRO_NASCIMENTO`) REFERENCES `pacientes` (`PACIENTES_NUMERO_REGISTRO_NASCIMENTO`),
  CONSTRAINT `FK_CARTEIRAS_ID` FOREIGN KEY (`REGISTROS_CARTEIRAS_ID`) REFERENCES `carteiras_vacinas` (`CARTEIRAS_ID`),
  CONSTRAINT `FK_ITENS_VACINAS_CODIGO` FOREIGN KEY (`REGISTROS_ITENS_VACINAS_CODIGO`) REFERENCES `itens_vacinas` (`ITENS_VACINAS_CODIGO`),
  CONSTRAINT `FK_UBS_ID` FOREIGN KEY (`REGISTROS_UBS_ID`) REFERENCES `ubs` (`UBS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `registros_vacinas`
--

/*!40000 ALTER TABLE `registros_vacinas` DISABLE KEYS */;
/*!40000 ALTER TABLE `registros_vacinas` ENABLE KEYS */;


--
-- Definition of table `ubs`
--

DROP TABLE IF EXISTS `ubs`;
CREATE TABLE `ubs` (
  `UBS_ID` int(4) NOT NULL auto_increment,
  `UBS_DESCRICAO` varchar(30) default NULL,
  PRIMARY KEY  (`UBS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `ubs`
--

/*!40000 ALTER TABLE `ubs` DISABLE KEYS */;
/*!40000 ALTER TABLE `ubs` ENABLE KEYS */;


--
-- Definition of table `usuarios`
--

DROP TABLE IF EXISTS `usuarios`;
CREATE TABLE `usuarios` (
  `USUARIOS_CPF` varchar(14) NOT NULL,
  `USUARIOS_NOME` varchar(60) default NULL,
  `USUARIO_SENHA` varchar(6) default NULL,
  `USUARIO_ATIVO` tinyint(1) default NULL,
  PRIMARY KEY  (`USUARIOS_CPF`),
  UNIQUE KEY `USUARIOS_CPF` (`USUARIOS_CPF`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `usuarios`
--

/*!40000 ALTER TABLE `usuarios` DISABLE KEYS */;
INSERT INTO `usuarios` (`USUARIOS_CPF`,`USUARIOS_NOME`,`USUARIO_SENHA`,`USUARIO_ATIVO`) VALUES 
 ('11111','Rodrigo','123',1),
 ('22222','Bruna','1234',1);
/*!40000 ALTER TABLE `usuarios` ENABLE KEYS */;


--
-- Definition of table `usuarios_funcao`
--

DROP TABLE IF EXISTS `usuarios_funcao`;
CREATE TABLE `usuarios_funcao` (
  `USUARIOS_FUNCAO_USUARIOS_CPF` varchar(14) default NULL,
  `USUARIOS_FUNCAO_DESCRICAO` varchar(10) default NULL,
  KEY `FK_USUARIOS_FUNCAO_DESCRICAO` (`USUARIOS_FUNCAO_DESCRICAO`),
  KEY `FK_USUARIOS_FUNCAO_USUARIOS_CPF` (`USUARIOS_FUNCAO_USUARIOS_CPF`),
  CONSTRAINT `FK_USUARIOS_FUNCAO_DESCRICAO` FOREIGN KEY (`USUARIOS_FUNCAO_DESCRICAO`) REFERENCES `funcao` (`FUNCAO_DESCRICAO`),
  CONSTRAINT `FK_USUARIOS_FUNCAO_USUARIOS_CPF` FOREIGN KEY (`USUARIOS_FUNCAO_USUARIOS_CPF`) REFERENCES `usuarios` (`USUARIOS_CPF`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `usuarios_funcao`
--

/*!40000 ALTER TABLE `usuarios_funcao` DISABLE KEYS */;
INSERT INTO `usuarios_funcao` (`USUARIOS_FUNCAO_USUARIOS_CPF`,`USUARIOS_FUNCAO_DESCRICAO`) VALUES
 ('11111','ROLE_USER'),
 ('11111','ROLE_ADMIN'),
 ('22222','ROLE_USER');
/*!40000 ALTER TABLE `usuarios_funcao` ENABLE KEYS */;


--
-- Definition of table `vacinas`
--

DROP TABLE IF EXISTS `vacinas`;
CREATE TABLE `vacinas` (
  `VACINAS_CODIGO` int(4) NOT NULL auto_increment,
  `VACINAS_DESCRICAO` varchar(30) default NULL,
  PRIMARY KEY  (`VACINAS_CODIGO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `vacinas`
--

/*!40000 ALTER TABLE `vacinas` DISABLE KEYS */;
/*!40000 ALTER TABLE `vacinas` ENABLE KEYS */;




/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;